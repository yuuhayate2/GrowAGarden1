-- Grow A Garden | Egg-Only Pet ESP (Enhanced UI with Hatch Chances)
-- Pet Predictor by Kuni

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local PlayerGui = Players.LocalPlayer:WaitForChild("PlayerGui")

-- Loading Screen
local loadingGui = Instance.new("ScreenGui", PlayerGui)
loadingGui.Name = "LoadingScreen"
loadingGui.ResetOnSpawn = false

local loadingFrame = Instance.new("Frame", loadingGui)
loadingFrame.Size = UDim2.new(0, 400, 0, 200)
loadingFrame.Position = UDim2.new(0.5, -200, 0.5, -100)
loadingFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
loadingFrame.BorderSizePixel = 0

local loadingText = Instance.new("TextLabel", loadingFrame)
loadingText.Size = UDim2.new(1, 0, 0.3, 0)
loadingText.Position = UDim2.new(0, 0, 0, 30)
loadingText.BackgroundTransparency = 1
loadingText.Text = "Generating Script..."
loadingText.Font = Enum.Font.SourceSansBold
loadingText.TextSize = 28
loadingText.TextColor3 = Color3.new(1, 1, 1)

local kLogo = Instance.new("TextLabel", loadingFrame)
kLogo.Size = UDim2.new(1, 0, 0.3, 0)
kLogo.Position = UDim2.new(0, 0, 0.3, 5)
kLogo.BackgroundTransparency = 1
kLogo.Font = Enum.Font.Arcade
kLogo.TextSize = 64
kLogo.TextColor3 = Color3.new(1, 1, 1)
kLogo.Text = "K"

local barBackground = Instance.new("Frame", loadingFrame)
barBackground.Size = UDim2.new(0.8, 0, 0.12, 0)
barBackground.Position = UDim2.new(0.1, 0, 0.75, 0)
barBackground.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
barBackground.BorderSizePixel = 0

local barFill = Instance.new("Frame", barBackground)
barFill.Size = UDim2.new(0, 0, 1, 0)
barFill.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
barFill.BorderSizePixel = 0

task.spawn(function()
	local hue = 0
	while loadingGui.Parent do
		kLogo.TextColor3 = Color3.fromHSV(hue, 1, 1)
		hue = (hue + 0.01) % 1
		RunService.RenderStepped:Wait()
	end
end)

task.spawn(function()
	local duration = 10
	local start = tick()
	while tick() - start < duration do
		local progress = (tick() - start) / duration
		barFill.Size = UDim2.new(progress, 0, 1, 0)
		RunService.RenderStepped:Wait()
	end
	barFill.Size = UDim2.new(1, 0, 1, 0)
	loadingGui:Destroy()
end)

-- Pet Table with Real Hatch Chances
local eggToPets = {
    ["Common Egg"] = {
        {name="Golden Lab", chance=33.33},
        {name="Dog", chance=33.33},
        {name="Bunny", chance=33.33},
    },
    ["Uncommon Egg"] = {
        {name="Black Bunny", chance=25},
        {name="Chicken", chance=25},
        {name="Cat", chance=25},
        {name="Deer", chance=25},
    },
    ["Rare Egg"] = {
        {name="Orange Tabby", chance=33.33},
        {name="Spotted Deer", chance=25},
        {name="Pig", chance=16.67},
        {name="Rooster", chance=16.67},
        {name="Monkey", chance=8.33},
    },
    ["Legendary Egg"] = {
        {name="Cow", chance=42.55},
        {name="Silver Monkey", chance=42.55},
        {name="Sea Otter", chance=10.64},
        {name="Turtle", chance=2.13},
        {name="Polar Bear", chance=2.13},
    },
    ["Mythical Egg"] = {
        {name="Grey Mouse", chance=35.71},
        {name="Brown Mouse", chance=26.79},
        {name="Squirrel", chance=26.79},
        {name="Red Giant Ant", chance=8.93},
        {name="Red Fox", chance=1.79},
    },
    ["Bug Egg"] = {
        {name="Snail", chance=40},
        {name="Giant Ant", chance=30},
        {name="Caterpillar", chance=25},
        {name="Praying Mantis", chance=4},
        {name="Dragonfly", chance=1},
    }
}

local espList = {}

local function clearESP()
    for _, gui in pairs(espList) do
        if gui and gui.Parent then
            gui:Destroy()
        end
    end
    espList = {}
end

local function createESP(part, petDisplay)
    if part and not part:FindFirstChild("EggESP") then
        local gui = Instance.new("BillboardGui", part)
        gui.Name = "EggESP"
        gui.Size = UDim2.new(0, 100, 0, 40)
        gui.StudsOffset = Vector3.new(0, 2.5, 0)
        gui.AlwaysOnTop = true

        local label = Instance.new("TextLabel", gui)
        label.Size = UDim2.new(1, 0, 1, 0)
        label.BackgroundTransparency = 1
        label.Text = petDisplay
        label.TextColor3 = Color3.new(1, 1, 1)
        label.TextStrokeTransparency = 0.2
        label.Font = Enum.Font.SourceSansBold
        label.TextScaled = true

        gui.Parent = part
        table.insert(espList, gui)
    end
end

local function getRandomPet(eggName)
    local pool = eggToPets[eggName]
    if pool then
        local total = 0
        for _, v in ipairs(pool) do total += v.chance end
        local r = math.random() * total
        local cumulative = 0
        for _, pet in ipairs(pool) do
            cumulative += pet.chance
            if r <= cumulative then
                local pct = string.format("%.0f", pet.chance)
                return pet.name .. " (" .. pct .. "%)"
            end
        end
    end
    return "Unknown"
end

local function randomizeEggs()
    clearESP()
    for _, obj in ipairs(workspace:GetDescendants()) do
        if obj:IsA("Model") and eggToPets[obj.Name] then
            local part = obj:FindFirstChildWhichIsA("BasePart")
            if part then
                createESP(part, getRandomPet(obj.Name))
            end
        end
    end
end
